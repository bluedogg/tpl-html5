var Tm=Tm||{};Tm.util=function(a){a.URL=a.URL||a.webkitURL,a.Tm.ns=function(){return a.Tm.util.namespace.apply(a,arguments)};var b=function(){var a=navigator.userAgent.toLowerCase(),b=a.match(/(webkit|gecko|presto|trident)/gi),c=a.match(/(firefox|safari|chrome|opera|msie)/gi),d=a.match(/(os\sx|windows|linux)/gi),e=a.match(/(mobile)/gi);return b=b[0].toLowerCase()||"unknown",c=c[0].toLowerCase()||"unknown",d=d[0].replace(" ","").toLowerCase()||"unknown",e=e?!0:!1,{engine:b,vendor:c,os:d,mobile:e}}(),c=function(){function b(){var a=this.getAttribute("data-i");c[a].src=this.src,c[a].style.width="auto",c[a].style.height="auto"}var c,d,e,f,g,h,i,j,k,l,m=[];if(c=a.document.getElementsByTagName("img"),e=c.length){for(var n=0;e>n;n++)d=c[n],f=d.getAttribute("data-src"),h=d.getAttribute("data-ratio"),h&&(i=d.getAttribute("width"),j=d.getAttribute("height"),k=d.parentNode.offsetWidth,k>=i?(k=i,l=j):l=Math.round(k/h)),f&&(g=new Image,g.onload=b,g.setAttribute("data-i",n),d.style.width=k+"px",d.style.height=l+"px",m.push({img:g,src:f}));a.onload=function(){var a=m.length;if(a)for(var b=0;a>b;b++)m[b].img.src=m[b].src}}};return a.document.body&&null!==a.document.body.getAttribute("data-lazyimageload")&&c(),{browser:function(){return b},namespace:function(){var a,b,c,d=arguments,e=null;for(a=0;a<d.length;a+=1)for(c=d[a].split("."),e=window,b=0;b<c.length;b+=1)e[c[b]]=e[c[b]]||{},e=e[c[b]];return e},stripTags:function(a){return a?String(a).replace(/<\/?[^>]+>/gi,""):a},trim:function(a){return a?a.replace(/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,""):a},nl2br:function(a){return a?a.replace(/\r?\n/g,"<br/>"):a},br2nl:function(a){return a?a.replace(/<br(\s*\/?)>/g,"\r\n"):a},getMonthName:function(a,b,c){var d={ru:{full:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],full2:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]}};return b=b||"full",c=c||"ru",a>=1&&12>=a?d[c][b][a-1]:-1},getHumanSize:function(a,b,c){var d={ru:{"short":["байт","КБ","МБ","ГБ","ТБ","ПБ"]},en:{"short":["bytes","KB","MB","GB","TB","PB"]}},e=0;for(b=b||"short",c=c||"ru";a>=1024;)a/=1024,e++;return Math.round(10*a)/10+" "+d[e]},numberFormat:function(a,b,c,d){var e,f,g,h,i,j,k="",l=a.toString(),m=l.indexOf("e");if(a){if(d||(d=" "),m>-1&&(k=l.substring(m),a=parseFloat(l.substring(0,m))),b||(b=0),null!==b&&(g=Math.pow(10,b),a=Math.round(a*g)/g),h=0>a?"−":"",i=(a>0?Math.floor(a):Math.abs(Math.ceil(a))).toString(),j=a.toString().substring(i.length+h.length),c=null!==c?c:".",j=null!==b&&b>0||j.length>1?c+j.substring(1):"",null!==b&&b>0)for(e=j.length-1,f=b;f>e;++e)j+="0";if(d=d!=c||0===j.length?d:null,null!==d&&""!==d)for(e=i.length-3;e>0;e-=3)i=i.substring(0,e)+d+i.substring(e);result=h+i+j+k}return result},reloadWarning:function(b){a.onbeforeunload=b?function(){return b}:null},"typeof":function(a){var b,c;return a&&1===a.nodeType&&(c="element"),b=Object.prototype.toString.call(a).match(/\[object (.*?)\]/),c=b[1].toLowerCase(),"number"===c&&isNaN(a)&&(c="nan"),c},lazyImageLoad:c}}(window,void 0);